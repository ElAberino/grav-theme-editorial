{# Set page datestamp in folowing order with support for translations #}
{# FIRST: Page publication date #}
{# SECOND: Page date #}
{# LAST: Page modification date #}

{% if config.plugins["translate-date"].enabled %}
    {% set datestamp = (page.header.publish_date) ? (page.header.publish_date|td(lang)) : (page.date ? page.date|td(lang) : page.modified|td(lang)) %}
{% elseif config.plugins["twig-extensions"].enabled %}
    {% set datestamp = (page.header.publish_date) ? (page.header.publish_date|localizeddate('medium', 'none', lang)) : (page.date ? page.date|localizeddate('medium', 'none', lang) : page.modified|localizeddate('medium', 'none', lang)) %}
{% else %}
    {% set datestamp = (page.header.publish_date) ? (page.header.publish_date|date(system.pages.dateformat.short)) : (page.date ? page.date|date(system.pages.dateformat.short) : page.modified|date(system.pages.dateformat.short)) %}
{% endif %}

{{ datestamp }}